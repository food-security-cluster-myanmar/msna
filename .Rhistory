tidy(conf.int = TRUE) %>%
filter(term != "(Intercept)") %>%
mutate(term = fct_reorder(term, estimate)) %>%
ggplot(aes(x = estimate,
y = term,
colour = estimate)) +
geom_vline(xintercept = 0, lty = 2, colour = "red") +
geom_point() +
geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0.2) +
scale_colour_viridis(option = "turbo") +
theme(legend.position = "none",
axis.text.y = element_text(size = 7),
axis.title.x = element_text(size = 7, face = "bold")) +
labs(x = "Estimate", y = "",
title = "Coefficient plot, household FCS with selected indicators",
caption = "Myanmar Multi-sector Needs Assessment, REACH 2022")
msna %>%
select(rural,
not_improved_housing,
not_improved_sanitation,
not_improved_water,
concern_violence,
hhfcs_inv,
edu_enrol_boy_prim,
edu_enrol_girl_prim) %>%
mutate_at(vars(edu_enrol_girl_prim,
edu_enrol_boy_prim),
~ abs(1 - .x)) %>%
lm(hhfcs_inv ~ ., data = .) %>%
tidy(conf.int = TRUE) %>%
filter(term != "(Intercept)")
mini %>%
select(hhfcs_inv, education_level, physical_security, rural,
natural_hazards, not_improved_floor, not_improved_water,
not_improved_sanitation, not_improved_housing,
physical_security) %>%
# summarise_at(vars(hhfcs_inv:no_electricity), mean)
lm(hhfcs_inv ~ ., data = .) %>%
tidy(conf.int = TRUE) %>%
filter(term != "(Intercept)") %>%
mutate(term = fct_reorder(term, estimate))
survey_mini %>%
left_join(survey %>% select(score = hhfcs_inv, survey_id), by = "survey_id") %>%
select(-survey_id, -matches("cs_|fies_|fcs_"), -tot_income) %>%
lm(score ~ ., data = .) %>%
tidy(conf.int = TRUE) %>%
filter(term != "(Intercept)") %>%
filter(p.value <= .05) %>%
mutate(term = fct_reorder(term, estimate)) %>%
ggplot(aes(x = estimate,
y = term,
colour = estimate)) +
geom_vline(xintercept = 0, lty = 2, colour = "red") +
geom_point() +
geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0.2) +
scale_colour_viridis(option = "turbo") +
theme(legend.position = "none",
axis.text.y = element_text(size = 7),
axis.title.x = element_text(size = 7, face = "bold")) +
labs(x = "Estimate", y = "",
title = "Coefficient plot, household FCS with selected indicators",
caption = "FAO/WFP food security survey round 3 2022")
msna %>%
select(rural,
not_improved_housing,
not_improved_sanitation,
not_improved_water,
concern_violence,
hhfcs_inv,
edu_enrol_boy_prim,
edu_enrol_girl_prim) %>% skim()
mini %>%
select(hhfcs_inv, education_level, physical_security, rural,
natural_hazards, not_improved_floor, not_improved_water,
not_improved_sanitation, not_improved_housing,
physical_security) %>%
# summarise_at(vars(hhfcs_inv:no_electricity), mean)
lm(hhfcs_inv ~ ., data = .) %>%
tidy(conf.int = TRUE) %>%
filter(term != "(Intercept)") %>%
mutate(term = fct_reorder(term, estimate)) %>%
ggplot(aes(x = estimate,
y = term,
colour = estimate)) +
geom_vline(xintercept = 0, lty = 2, colour = "red") +
geom_point() +
geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0.2) +
scale_colour_viridis(option = "turbo") +
theme(legend.position = "none",
axis.text.y = element_text(size = 7),
axis.title.x = element_text(size = 7, face = "bold")) +
labs(x = "Estimate", y = "",
title = "Coefficient plot, household FCS with selected indicators",
caption = "Myanmar Household Welfare Survey, IFPRI 2022")
survey_mini %>%
left_join(survey %>% select(score = hhfcs_inv, survey_id), by = "survey_id") %>%
select(-survey_id, -matches("cs_|fies_|fcs_"), -tot_income) %>%
lm(score ~ ., data = .) %>%
tidy(conf.int = TRUE) %>%
filter(term != "(Intercept)") %>%
filter(p.value <= .05) %>%
mutate(term = fct_reorder(term, estimate)) %>%
ggplot(aes(x = estimate,
y = term,
colour = estimate)) +
geom_vline(xintercept = 0, lty = 2, colour = "red") +
geom_point() +
geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0.2) +
scale_colour_viridis(option = "turbo") +
theme(legend.position = "none",
axis.text.y = element_text(size = 7),
axis.title.x = element_text(size = 7, face = "bold")) +
labs(x = "Estimate", y = "",
title = "Coefficient plot, household FCS with selected indicators",
caption = "FAO/WFP food security survey round 3 2022")
mini %>%
mutate(reduce_borrow_food = ifelse(k_10_reduced_food == 1 |
k_11_borrow_food == 1,
"reduce_borrow_food",
"NOT_reduced_or_borrowed")) %>%
ggplot(aes(x = csi_weighted)) +
geom_histogram(bins = 30) +
geom_freqpoly(binwidth = 1,
colour = "red",
alpha = .7) +
facet_wrap(~ reduce_borrow_food) +
labs(x = "Coping strategies index (weighted)",
y = "Number of households",
title = "Coping strategies indices of those who have reduced food consumption or borrowed food",
subtitle = "Vs those whos have not") +
theme(legend.position = "none",
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
mini %>%
mutate(reduce_borrow_food = ifelse(k_10_reduced_food == 1 |
k_11_borrow_food == 1,
"reduce_borrow_food",
"NOT_reduced_or_borrowed")) %>%
ggplot(aes(x = csi_weighted)) +
geom_histogram(bins = 30) +
geom_freqpoly(binwidth = .2,
colour = "red",
alpha = .7) +
facet_wrap(~ reduce_borrow_food) +
labs(x = "Coping strategies index (weighted)",
y = "Number of households",
title = "Coping strategies indices of those who have reduced food consumption or borrowed food",
subtitle = "Vs those whos have not") +
theme(legend.position = "none",
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
mini %>%
mutate(reduce_borrow_food = ifelse(k_10_reduced_food == 1 |
k_11_borrow_food == 1,
"reduce_borrow_food",
"NOT_reduced_or_borrowed")) %>%
ggplot(aes(x = csi_weighted)) +
geom_histogram(bins = 30) +
geom_freqpoly(binwidth = .5,
colour = "red",
alpha = .7) +
facet_wrap(~ reduce_borrow_food) +
labs(x = "Coping strategies index (weighted)",
y = "Number of households",
title = "Coping strategies indices of those who have reduced food consumption or borrowed food",
subtitle = "Vs those whos have not") +
theme(legend.position = "none",
strip.text = element_text(size = 10, face = "bold"),
strip.background = element_rect(fill = "#212121"))
msna %>%
select(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1, liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
msna %>%
select(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1, liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4) %>%
glimpse()
msna %>%
msna %>%
mutate_at(vars(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1:liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4),
~ case_when(.x == "yes" ~ 1,
.x == "no_exhausted" ~ 1,
TRUE ~ 0)) %>%
select(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1, liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4) %>%
glimpse()
msna %>%
msna %>%
mutate_at(vars(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1:liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4),
~ case_when(.x == "yes" ~ 1,
.x == "no_exhausted" ~ 1,
TRUE ~ 0)) %>%
select(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1, liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
msna %>%
mutate_at(vars(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1:liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4),
~ case_when(.x == "yes" ~ 1,
.x == "no_exhausted" ~ 1,
TRUE ~ 0)) %>%
select(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1, liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
msna %>%
mutate_at(vars(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1:liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4),
~ case_when(.x == "yes" ~ 1,
.x == "no_exhausted" ~ 1,
TRUE ~ 0)) %>%
select(stress_sell_assets = liv_stress_csi_1,
stress_spend_savings = liv_stress_csi_2,
stress_borrow_food = liv_stress_csi_3,
sell_productive_assets = liv_crisis_csi_1,
reduce_health = liv_crisis_csi_2,
child_labour = liv_crisis_csi_3,
sell_house = liv_emerg_csi_1,
risky_activity = liv_emerg_csi_2,
migrate = liv_emerg_csi_4) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
msna %>%
mutate_at(vars(liv_crisis_csi_1:liv_crisis_csi_3,
liv_emerg_csi_1:liv_emerg_csi_4,
liv_stress_csi_1:liv_stress_csi_4),
~ case_when(.x == "yes" ~ 1,
.x == "no_exhausted" ~ 1,
TRUE ~ 0)) %>%
select(sell_assets = liv_stress_csi_1,
spend_savings = liv_stress_csi_2,
borrow_food = liv_stress_csi_3,
sell_productive_assets = liv_crisis_csi_1,
reduce_health = liv_crisis_csi_2,
child_labour = liv_crisis_csi_3,
sell_house = liv_emerg_csi_1,
risky_activity = liv_emerg_csi_2,
migrate = liv_emerg_csi_4) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("csi"))
survey %>%
select(matches("r_csi"))
survey %>%
select(matches("csi"))
survey %>% glimspe()
survey %>% glimpse()
survey %>%
select(matches("cs_"))
survey %>%
select(matches("cs_")) %>%
rename_all(funs(
str_sub(., start = 11)
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
rename_all(funs(
str_sub(., start = 11)
))
survey %>%
select(matches("cs_")) %>%
rename_all(funs(
str_sub(., start = 10)
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matche("fcs")) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs")) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs")) %>%
rename_all(funs(
str_sub(., start = 10)
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs")) %>%
rename_all(funs(
str_sub(., start = 11)
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_"))
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs")) %
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs"))
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs|raw")) %>%
rename_all(funs(
str_sub(., start = 11)
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs|raw"))
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs|raw")) %>%
select(1:15) %>%
rename_all(funs(
str_sub(., start = 11)
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs|raw")) %>%
select(1:15)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs|raw")) %>%
select(1:14) %>%
rename_all(funs(
str_sub(., start = 11)
)) %>%
rename_all(funs(
str_replace(., "cy_", "")
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
survey %>%
select(matches("cs_")) %>%
select(-matches("fcs|raw")) %>%
select(1:13) %>%
rename_all(funs(
str_sub(., start = 11)
)) %>%
rename_all(funs(
str_replace(., "cy_", "")
)) %>%
cor(method = c("pearson")) %>%
corrplot(type = "upper",
col = brewer.pal(n = 13,
name = "RdBu"),
tl.srt = 55,
title = "Correlation plot - coping strategies indicators, MSNA",
mar = c(0, 0, 2, 0),
diag = FALSE,
addCoef.col = 1,
number.cex = .3,
tl.cex = .5)
