"0","ifpri <- ifpri_raw %>%"
"0","  select("
"0","    hhid,"
"0","    b_04,"
"0","    b_06,"
"0","    b_07:b_09,"
"0","    c_01:c_07,"
"0","    d_01,"
"0","    e_01,"
"0","    e_03,"
"0","    e_05:e_07,"
"0","    e_08:e_16,"
"0","    e_16_acres,"
"0","    e_16_length,"
"0","    e_16_width,"
"0","    f_01_01:f_01_07,"
"0","    f_05_01:f_05_08,"
"0","    g_01_01:g_01_16,"
"0","    g_02,"
"0","    # not for the moment, we can look at wage employment later"
"0","    g_06_01:g_06_99,"
"0","    h_01_01:h_08_01,"
"0","    # We'll look at h_02 later"
"0","    h_02_01:h_02_99,"
"0","    h_03,"
"0","    j_01,"
"0","    j_02_01:j_02_99,"
"0","    # We'll look at this later"
"0","    j_05,"
"0","    j_06,"
"0","    j_07_01:j_07_97,"
"0","    j_08,"
"0","    j_10_01:j_10_99,"
"0","    k_01,"
"0","    k_02_01:k_02_99,"
"0","    k_03,"
"0","    k_04_01:k_04_99,"
"0","    k_05:k_17,"
"0","    # we'll tackle this later"
"0","    # l1_01:l1_06,"
"0","    l2_02_a:l2_16_c,"
"0","    m_01_01:m_01_98,"
"0","    m_02:m_07,"
"0","    n_01:n_06,"
"0","    o_01_00:o_01_96,"
"0","    o_02:o_06"
"0","  ) %>%"
"0","  pivot_longer(cols = -hhid,"
"0","               names_to = ""var"","
"0","               values_to = ""value"") %>%"
"0","  left_join("
"0","    codebook_ifpri %>%"
"0","      mutate(label = str_replace_all(str_to_lower(variable_label),"
"0","                                     "" "","
"0","                                     ""_"")) %>%"
"0","      select(label, variable_type, variable_name),"
"0","    by = c(""var"" = ""variable_name"")"
"0","  ) %>%"
"0","  select(label, value, var, hhid, variable_type) %>%  "
"0","    mutate(val = case_when(var == ""b_04"" & value == 1 ~ ""male"", "
"0","                          var == ""b_04"" & value == 2 ~ ""female"", "
"0","                          TRUE ~ as.character(value)), "
"0","           val = case_when(var == ""b_06"" & value == 1 ~ ""Kachin"", "
"0","                           var == ""b_06"" & value == 2 ~ ""Kayah"","
"0","                           var == ""b_06"" & value == 3 ~ ""Kayin"","
"0","                           var == ""b_06"" & value == 4 ~ ""Chin"","
"0","                           var == ""b_06"" & value == 5 ~ ""Sagaing"","
"0","                           var == ""b_06"" & value == 6 ~ ""Tanintharyi"","
"0","                           var == ""b_06"" & value == 7 ~ ""Bago"","
"0","                           var == ""b_06"" & value == 8 ~ ""Magway"","
"0","                           var == ""b_06"" & value == 9 ~ ""Mandalay"","
"0","                           var == ""b_06"" & value == 10 ~ ""Mon"","
"0","                           var == ""b_06"" & value == 11 ~ ""Rakhine"","
"0","                           var == ""b_06"" & value == 12 ~ ""Yangon"","
"0","                           var == ""b_06"" & value == 14 ~ ""Ayeyarwady"","
"0","                           var == ""b_06"" & value == 15 ~ ""Nay Pyi Taw"","
"0","                           var == ""b_06"" & value == 131 ~ ""Shan (North)"","
"0","                           var == ""b_06"" & value == 132 ~ ""Shan (East)"","
"0","                           var == ""b_06"" & value == 133 ~ ""Shan (South)"", "
"0","                           TRUE ~ as.character(value)), "
"0","           val = case_when(var == ""b_07"" & value == 1 ~ ""rural"","
"0","                           var == ""b_07"" & value == 2 ~ ""urban"", "
"0","                           TRUE ~ as.character(value)), "
"0","           val = case_when(var == ""b_08"" & value == 0 ~ ""none"","
"0","                           var == ""b_08"" & value > 0 & value < 11 ~ ""standard_1_10"","
"0","                           var == ""b_08"" & value == 11 ~ ""technical_high_school"","
"0","                           var == ""b_08"" & value == 12 ~ ""teachers_certificate"","
"0","                           var == ""b_08"" & value == 13 ~ ""tvet_diploma"","
"0","                           var == ""b_08"" & value == 14 ~ ""some_college"","
"0","                           var == ""b_08"" & value == 15 ~ ""bachelors_graduate"","
"0","                           var == ""b_08"" & value == 16 ~ ""postgraduate_diploma"","
"0","                           var == ""b_08"" & value == 17 ~ ""masters_degree"","
"0","                           var == ""b_08"" & value == 18 ~ ""phd"","
"0","                           var == ""b_08"" & value == 20 ~ ""monastic_religious"", "
"0","                           TRUE ~ as.character(value)), "
"0","           val = case_when(var == ""d_01"" ~ as.character(value), "
"0","                           TRUE ~ as.character(value)),"
"0","           val = case_when(var == ""e_01"" & value %in% c(3, 4, 5) ~ ""improved_housing"","
"0","                           var == ""e_01"" & value %in% c(1, 2, 6, 7) ~ ""not_improved_housing"","
"0","                           TRUE ~ as.character(value)), "
"0","          val = case_when(var == ""e_03"" & value == 1 ~ ""improved_floor"","
"0","                          var == ""e_03"" & value == 2 ~ ""not_improved_floor"", "
"0","                          TRUE ~ as.character(value)),"
"0","          val = case_when(var == ""e_05"" & value > 0 & value < 7 ~ ""improved_drinking_water"","
"0","                          var == ""e_05"" & value > 7 ~ ""not_improved_drinking_water"", "
"0","                          TRUE ~ as.character(value)),"
"0","          val = case_when(var == ""e_06"" & value > 0 & value < 3 ~ ""improved_sanitation"", "
"0","                          var == ""e_06"" & value >= 3 ~ ""not_improved_sanitation"", "
"0","                          TRUE ~ as.character(value)),"
"0","          val = case_when(var == ""e_07"" & value == 9 ~ ""no_electricity"","
"0","                          var == ""e_07"" & value != 9 ~ ""electricity"", "
"0","                          TRUE ~ as.character(value)),"
"0","          val = case_when(var %in% c(""e_08"", ""e_09"", ""e_10"", ""e_11"", "
"0","                                     ""e_12"", ""e_13"",  ""e_15"", "
"0","                                     ""j_01"", "
"0","                                     ""k_16"", "
"0","                                     ""m_06"") & "
"0","                            value == 1 ~ ""yes"", "
"0","                          var %in% c(""e_08"", ""e_09"", ""e_10"", ""e_11"", "
"0","                                     ""e_12"", ""e_13"", ""e_15"", "
"0","                                     ""j_01"", "
"0","                                     ""k_16"", "
"0","                                     ""m_06"") & "
"0","                            value == 2 ~ ""no"", "
"0","                          TRUE ~ as.character(value)), "
"0","          # e_14 (number of mobile phones) and e_15 (acres of land) not changed"
"0","         val = case_when(var == ""g_02"" & value == 1 ~ ""wage_crop_farming"", "
"0","                         var == ""g_02"" & value == 2 ~ ""wage_livestock"","
"0","                         var == ""g_02"" & value == 3 ~ ""wage_fishing"","
"0","                         var == ""g_02"" & value == 4 ~ ""wage_non_agriculture"","
"0","                         var == ""g_02"" & value == 5 ~ ""salaried_crop_farming"","
"0","                         var == ""g_02"" & value == 6 ~ ""salaried_livestock"","
"0","                         var == ""g_02"" & value == 7 ~ ""salaried_fishing"","
"0","                         var == ""g_02"" & value == 8 ~ ""salaried_non_agriculture"","
"0","                         var == ""g_02"" & value == 9 ~ ""own_crops"","
"0","                         var == ""g_02"" & value == 10 ~ ""own_livestock"","
"0","                         var == ""g_02"" & value == 11 ~ ""own_fishing"","
"0","                         var == ""g_02"" & value == 12 ~ ""own_non_farm_enterprise"","
"0","                         var == ""g_02"" & value == 13 ~ ""rent"","
"0","                         var == ""g_02"" & value == 14 ~ ""donations_pensions"","
"0","                         var == ""g_02"" & value == 15 ~ ""remittances"", "
"0","                         TRUE ~ as.character(value)),"
"0","         val = case_when(var == ""h_03"" & value == 1 ~ ""availability_materials"", "
"0","                         var == ""h_03"" & value == 2 ~ ""high_prices_materials"", "
"0","                         var == ""h_03"" & value == 3 ~ ""high_prices_fuel"", "
"0","                         var == ""h_03"" & value == 4 ~ ""disruption_banking"", "
"0","                         var == ""h_03"" & value == 5 ~ ""access_customers"", "
"0","                         var == ""h_03"" & value == 6 ~ ""electricity_problems"", "
"0","                         var == ""h_03"" & value == 7 ~ ""few_customers"", "
"0","                         var == ""h_03"" & value == 8 ~ ""difficulty_hiring"", "
"0","                         var == ""h_03"" & value == 9 ~ ""no_difficulties"", "
"0","                         TRUE ~ as.character(value)),"
"0","         val = case_when(var == ""j_08"" & value == 1 ~ ""very_insecure"", "
"0","                         var == ""j_08"" & value == 2 ~ ""somewhat_insecure"", "
"0","                         var == ""j_08"" & value == 3 ~ ""secure"", "
"0","                         var == ""j_08"" & value == 4 ~ ""very_secure"", "
"0","                         TRUE ~ as.character(value)),"
"0","         val = case_when(var %in% c(""k_01"", ""k_05"", ""k_07"", ""k_08"", ""k_09"", ""k_10"", "
"0","                                    ""k_11"", ""k_12"", ""k_13"", ""k_14"", ""k_15"") & "
"0","                           value == 1 ~ ""yes"", "
"0","                         var %in% c(""k_01"", ""k_05"", ""k_07"", ""k_08"", ""k_09"", ""k_10"", "
"0","                                    ""k_11"", ""k_12"", ""k_13"", ""k_14"", ""k_15"") & "
"0","                           value == 2 ~ ""no"","
"0","                         var %in% c(""k_01"", ""k_05"", ""k_07"", ""k_08"", ""k_09"", ""k_10"", "
"0","                                    ""k_11"", ""k_12"", ""k_13"", ""k_14"", ""k_15"") & "
"0","                           value == 3 ~ ""already"", "
"0","                         TRUE ~ as.character(value)),"
"0","         val = case_when(var == ""k_17"" & value == 1 ~ ""not_difficult"", "
"0","                         var == ""k_17"" & value == 2 ~ ""somewhat_difficult"", "
"0","                         var == ""k_17"" & value == 3 ~ ""very_difficult""), "
"0","         val = case_when(var %in% c(""n_01"", ""n_03"", ""n_05"","
"0","                                    ""o_02"") & "
"0","                           value == 1 ~ ""yes"", "
"0","                         var %in% c(""n_01"", ""n_03"", ""n_05"","
"0","                                    ""o_02"") & "
"0","                           value == 2 ~ ""no"", "
"0","                         TRUE ~ as.character(value)), "
"0","         val = case_when(var %in% c(""n_02"", ""n_04"", ""n_06"") & "
"0","                           value == 1 ~ ""1_2_times"", "
"0","                         var %in% c(""n_02"", ""n_04"", ""n_06"") & "
"0","                           value == 2 ~ ""3_10_times"","
"0","                         var %in% c(""n_02"", ""n_04"", ""n_06"") & "
"0","                           value == 3 ~ "">=10_times"","
"0","                         TRUE ~ as.character(value)),"
"0","         val = case_when(var %in% c(""o_03"", ""o_05"") & value == 1 ~ ""any_time"", "
"0","                         var %in% c(""o_03"", ""o_05"") & value == 1 ~ ""most_times"", "
"0","                         var %in% c(""o_03"", ""o_05"") & value == 1 ~ ""few_times"", "
"0","                         var %in% c(""o_03"", ""o_05"") & value == 1 ~ ""never"", "
"0","                         TRUE ~ as.character(value)), "
"0","         val = case_when(var == ""o_04"" & value == 1 ~ ""all_children"", "
"0","                         var == ""o_04"" & value == 2 ~ ""some_children"","
"0","                         var == ""o_04"" & value == 3 ~ ""none_children"","
"0","                         TRUE ~ as.character(value)),"
"0","         val = case_when(var == ""o_06"" & value == 1 ~ ""no_money"", "
"0","                         var == ""o_06"" & value == 2 ~ ""internet_disruptions"", "
"0","                         var == ""o_06"" & value == 1 ~ ""electricity_problems"","
"0","                         var == ""o_06"" & value == 1 ~ ""not_interested"","
"0","                         TRUE ~ as.character(value)), "
"0","         var = recode(var,"
"0","                      ""b_04"" = ""respondent_sex"", "
"0","                      ""b_06"" = ""state"", "
"0","                      ""d_01"" = ""township_code"","
"0","                      ""c_01"" = ""age_0_4"", "
"0","                      ""c_02"" = ""age_5_14"", "
"0","                      ""c_03"" = ""females_15_64"","
"0","                      ""c_04"" = ""males_15_64"", "
"0","                      ""c_05"" = ""females_>65"", "
"0","                      ""c_06"" = ""males_>65"","
"0","                      ""f_01_01"" = ""f_01_wage"", "
"0","                      ""f_01_02"" = ""f_01_salaried"", "
"0","                      ""f_01_03"" = ""f_01_own_crops"", "
"0","                      ""f_01_04"" = ""f_01_own_livestock"", "
"0","                      ""f_01_05"" = ""f_01_own_fishing"", "
"0","                      ""f_01_06"" = ""f_01_non_farm_enterprise"", "
"0","                      ""f_01_07"" = ""f_01_no_employment"", "
"0","                      ""f_05_01"" = ""f_05_not_interested"", "
"0","                      ""f_05_02"" = ""f_05_slack_season"", "
"0","                      ""f_05_03"" = ""f_05_could_not_find"", "
"0","                      ""f_05_04"" = ""f_05_ill_old"", "
"0","                      ""f_05_05"" = ""f_05_children_family"", "
"0","                      ""f_05_06"" = ""f_05_movement_restrictions"", "
"0","                      ""f_05_07"" = ""f_05_conflict_violence"", "
"0","                      ""f_05_08"" = ""f_05_not_safe_health_reasons"", "
"0","                      ""g_01_01"" = ""g_01_wage_crop_farming"", "
"0","                      ""g_01_02"" = ""g_01_wage_livestock"", "
"0","                      ""g_01_03"" = ""g_01_wage_fishing"", "
"0","                      ""g_01_04"" = ""g_01_wage_non_agriculture"", "
"0","                      ""g_01_05"" = ""g_01_salaried_crop_farming"", "
"0","                      ""g_01_06"" = ""g_01_salaried_livestock"", "
"0","                      ""g_01_07"" = ""g_01_salaried_fishing"","
"0","                      ""g_01_08"" = ""g_01_salaried_non_agriculture"", "
"0","                      ""g_01_09"" = ""g_01_own_crops"", "
"0","                      ""g_01_10"" = ""g_01_own_livestock"", "
"0","                      ""g_01_11"" = ""g_01_own_fishing"", "
"0","                      ""g_01_12"" = ""g_01_own_non_farm_enterprise"", "
"0","                      ""g_01_13"" = ""g_01_rent"","
"0","                      ""g_01_14"" = ""g_01_donations_pensions"", "
"0","                      ""g_01_15"" = ""g_01_remittances"", "
"0","                      ""g_01_16"" = ""g_01_no_employment"", "
"0","                      ""h_02_01"" = ""h_02_mobile_food_vendor"", "
"0","                      ""h_02_02"" = ""h_02_fixed_food_vendor"", "
"0","                      ""h_02_03"" = ""h_02_trader_wholesaler"", "
"0","                      ""h_02_04"" = ""h_02_rice_miller"", "
"0","                      ""h_02_05"" = ""h_02_other_food_processing"", "
"0","                      ""h_02_06"" = ""h_02_food_transport"", "
"0","                      ""h_02_07"" = ""h_02_prepared_food_drinks"", "
"0","                      ""h_02_08"" = ""h_02_food_delivery"", "
"0","                      ""h_02_09"" = ""h_02_agricultural_input_supplier"", "
"0","                      ""h_02_10"" = ""h_02_agricultural_machinery"","
"0","                      ""h_02_11"" = ""h_02_agricultural_services"", "
"0","                      ""j_02_01"" = ""j_02_drought"", "
"0","                      ""j_02_02"" = ""j_02_flood"", "
"0","                      ""j_02_03"" = ""j_02_irregular_rf_temp"","
"0","                      ""j_02_04"" = ""j_02_lightning"", "
"0","                      ""j_02_05"" = ""j_02_landlside"", "
"0","                      ""j_02_06"" = ""j_02_earthquake"", "
"0","                      ""j_07_01"" = ""j_07_violence"", "
"0","                      ""j_07_02"" = ""j_07_theft"", "
"0","                      ""j_07_03"" = ""j_07_intra_household_conflict"", "
"0","                      ""j_07_04"" = ""j_07_none"", "
"0","                      ""l2_02_c"" = ""l2_vegetables1"", "
"0","                      ""l2_03_c"" = ""l2_vegetables2"", "
"0","                      ""l2_04_c"" = ""l2_vegetables3"", "
"0","                      ""l2_05_c"" = ""l2_staples1"", "
"0","                      ""l2_06_c"" = ""l2_staples2"", "
"0","                      ""l2_07_c"" = ""l2_pulses1"", "
"0","                      ""l2_08_c"" = ""l2_pulses2"", "
"0","                      ""l2_09_c"" = ""l2_dairy1"", "
"0","                      ""l2_10_c"" = ""l2_protein_seafood"", "
"0","                      ""l2_11_c"" = ""l2_protein_meat"", "
"0","                      ""l2_12_c"" = ""l2_protein_eggs"", "
"0","                      ""l2_13_c"" = ""l2_fruits1"", "
"0","                      ""l2_14_c"" = ""l2_fruits2"", "
"0","                      ""l2_15_c"" = ""l2_sugar"", "
"0","                      ""l2_16_c"" = ""l2_fat"", "
"0","                      ""k_01"" = ""k_01_sell_assets"", "
"0","                      ""k_03"" = ""k_03_mortgage_assets"", "
"0","                      ""k_05"" = ""k_05_consumed_seed_stock"", "
"0","                      ""k_06"" = ""k_06_reduced_agriculture"","
"0","                      ""k_07"" = ""k_07_spend_savings"", "
"0","                      ""k_08"" = ""k_08_reduced_healthcare"", "
"0","                      ""k_09"" = ""k_09_reduced_nfi"", "
"0","                      ""k_10"" = ""k_10_reduced_food"", "
"0","                      ""k_11"" = ""k_11_borrow_food"", "
"0","                      ""k_12"" = ""k_12_borrow_money"", "
"0","                      ""k_13"" = ""k_13_migrate"", "
"0","                      ""k_14"" = ""k_14_children_work"", "
"0","                      ""k_15"" = ""k_15_risky_activity"", "
"0","                      ""m_01"" = ""m_01_responsible_for_food"", "
"0","                      ""m_02"" = ""m_02_7days_exp_food_markets"", "
"0","                      ""m_03"" = ""m_03_7days_exp_prepared_food"", "
"0","                      ""m_04"" = ""m_04_7days_own_garden"", "
"0","                      ""m_05"" = ""m_05_7days_value_own_garden"", "
"0","                      ""m_06"" = ""m_06_7days_food_free_wage"", "
"0","                      ""m_07"" = ""m_07_7days_value_food_free_wage"")) "
"0",""
